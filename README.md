# auth server

```shell
curl -X GET http://localhost:3333/v1/users/otp \
--header 'Content-Type: application/json' \
--header 'Authorization: Basic ZHJpdmVyLWFwcDpkcml2ZXItYXBwLXNlY3JldA==' -v
```
->
```shell
{"code":"ABCDEF"}
```
---
```shell
curl -X POST http://localhost:3333/oauth2/token\?grant_type\=otp&code=ABCDEF \
--header 'Content-Type: application/json' \
--header 'Authorization: Basic ZHJpdmVyLWFwcDpkcml2ZXItYXBwLXNlY3JldA==' -v
```
->
```shell
{
  "access_token":"eyJraWQiOiIwZDE5NGFjOC1iMDA4LTQxYzYtOGRjNy05OTYyZTRlZWIyODQiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkcml2ZXItYXBwIiwiYXVkIjoiZHJpdmVyLWFwcCIsIm5iZiI6MTcwNTA0MDA2NSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDozMzMzIiwiZXhwIjoxNzA2MjQ5NjY1LCJpYXQiOjE3MDUwNDAwNjUsImp0aSI6ImQxMmNkN2VjLTE2M2MtNGU2Ni05NTYyLTQ4NGYyNzNhMjg2ZiJ9.ct9N9Tq80pgtthJanXVW6Ak32vcD8HTZDiV-ym6Js64-SXSGiwrc3PvO5MF7AsBW366VvYj5kMdHDK8T8rGlXH76t5i8Z9cdqIUSGBNVHnJo6YTedrJ89cc319BtB3RaoGRPgOipiTCLQtuUa05JVAJ5Y5ecbasCIE2X5JojPGQSBk7sc6GDE4gN2TBxqXgPqKEAkjzmfabm9-wzbk1i70HFrsxuSxF4X0rFEimIN8M5e-k3BeFqmYDWHNSVJpp8QL69yVRxRLRNlmUmV6nPMul4PUrrkwc105jpKSRCAnRSmigeRkY_Q5PgRV-u2QdiZF89NonJrz2WWOSjF0zm1w",
  "refresh_token":"eyJraWQiOiIwNDlkMjc5MC1jYjM3LTQ1MjEtOTYzOS1hODcyYmIwN2ZhNmIiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkcml2ZXItYXBwIiwiYXVkIjoiZHJpdmVyLWFwcCIsIm5iZiI6MTcwNTA0NjU5OSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDozMzMzIiwiZXhwIjoxNzEyODIyNTk5LCJpYXQiOjE3MDUwNDY1OTksImp0aSI6ImRhY2E2Mzk5LWM3OGMtNDRkNC04YWFmLTE2YmQ4YzMxNjk4YiIsImF1dGhvcml0aWVzIjpbIkRSSVZFUiJdfQ.iqvNSVWEPv_xB6jl_2hiN4H8Ng4Bvs-OPIiqcqBHpa6-qBN3EVN3mi7dY6liQmCMrm9kbn6kHkqHsMPLOQ3J8l3-UX1UOj9kR2vT8kBFv07LtzV2Fu8MhjLAXBBEpXKl0J5p2fmI2Y9MXQjuj_rCbOQkQOkd0Q09Pqmn5ZjnymkkzvENKmMIDGDe1yNljARPk8MqDtPOU4qV3DiTXjYQl5ukLcL2qUyRPARIFjWMSWriA-B2wORYZjnoJg_dEQyzbpng1tNQF-hJC5PCy4TEBkHnoyf4LDc1EltijRwve-M6k7-4fqop-OAWmu2cuAIuOw15lr7OXOhRyQ3wwo_CUw",
  "token_type":"Bearer",
  "expires_in":1209599
}
```
---
```shell
curl -X POST http://localhost:3333/oauth2/token\?grant_type\=refresh_token\&refresh_token\=eyJraWQiOiIwNDlkMjc5MC1jYjM3LTQ1MjEtOTYzOS1hODcyYmIwN2ZhNmIiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkcml2ZXItYXBwIiwiYXVkIjoiZHJpdmVyLWFwcCIsIm5iZiI6MTcwNTA0NjU5OSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDozMzMzIiwiZXhwIjoxNzEyODIyNTk5LCJpYXQiOjE3MDUwNDY1OTksImp0aSI6ImRhY2E2Mzk5LWM3OGMtNDRkNC04YWFmLTE2YmQ4YzMxNjk4YiIsImF1dGhvcml0aWVzIjpbIkRSSVZFUiJdfQ.iqvNSVWEPv_xB6jl_2hiN4H8Ng4Bvs-OPIiqcqBHpa6-qBN3EVN3mi7dY6liQmCMrm9kbn6kHkqHsMPLOQ3J8l3-UX1UOj9kR2vT8kBFv07LtzV2Fu8MhjLAXBBEpXKl0J5p2fmI2Y9MXQjuj_rCbOQkQOkd0Q09Pqmn5ZjnymkkzvENKmMIDGDe1yNljARPk8MqDtPOU4qV3DiTXjYQl5ukLcL2qUyRPARIFjWMSWriA-B2wORYZjnoJg_dEQyzbpng1tNQF-hJC5PCy4TEBkHnoyf4LDc1EltijRwve-M6k7-4fqop-OAWmu2cuAIuOw15lr7OXOhRyQ3wwo_CUw \
--header 'Content-Type: application/json' \
--header 'Authorization: Basic ZHJpdmVyLWFwcDpkcml2ZXItYXBwLXNlY3JldA==' -v
```
->
```shell
{
  "access_token":"eyJraWQiOiIwNDlkMjc5MC1jYjM3LTQ1MjEtOTYzOS1hODcyYmIwN2ZhNmIiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkcml2ZXItYXBwIiwiYXVkIjoiZHJpdmVyLWFwcCIsIm5iZiI6MTcwNTA0NjYyMywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDozMzMzIiwiZXhwIjoxNzA2MjU2MjIzLCJpYXQiOjE3MDUwNDY2MjMsImp0aSI6ImVhY2Q1MWJmLTkyMWItNDQ2NC1hNDQ2LTkwODQ4OTkwYmFhZSIsImF1dGhvcml0aWVzIjpbIkRSSVZFUiJdfQ.fRTbqjujqFhdtZCeWk5w66Awu4CAzQzJk6du_1Mbo3r7gduUMw_ioNVZaFxhKCmRklYmdzDBRc3LK8KO8HSg4bIta-6S9b2VGc7F3u9MqgvMmcelC0nHgIaGf6NY6e6PTtqgLmtHCxkXQD7G3RrST__ezdlazrLesR49FbTPcCct5ckbuQKFY1G16SHIyvUbC2EOEFtR6sRD0DJKnnMH6shG-vKd7plllk_Ntt5VLCDjk2U2UftTdmXEM86W4U1fDxhgaiRCOVbJ3CnWqQg0mNeNNVubBMzhD9D2YKRGBjLCrb1H5IFy5dtUKP3lyJrP4dcxMAQUTzHKr-fWQOd8kg",
  "refresh_token":"eyJraWQiOiIwNDlkMjc5MC1jYjM3LTQ1MjEtOTYzOS1hODcyYmIwN2ZhNmIiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkcml2ZXItYXBwIiwiYXVkIjoiZHJpdmVyLWFwcCIsIm5iZiI6MTcwNTA0NjYyNCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDozMzMzIiwiZXhwIjoxNzEyODIyNjI0LCJpYXQiOjE3MDUwNDY2MjQsImp0aSI6IjE2ZWQ5ZGMyLWY5NmUtNDY0MS04NmI4LWRkMDUwNDk1YTYyNSIsImF1dGhvcml0aWVzIjpbIkRSSVZFUiJdfQ.cDl8yX1kw2Zof8nO0L1qEtL0JNE_9DBDt4u_mrDIPn_zNhyJlNzj6hGNYjItzXQadXV0baF4ooPYi_RMCxwtfX271BudpIdY9xABnv_Qo6V-rBk3UMBB6Iy6eLbA5YRp_2CTkh7LKkbtj-g_tdrUzOVBAryQawBPMf46uOdAlOT0sWPRXekm_I7X4oenzO9rH76ivFLj7C5OHqQEkA18_hGnXo72UAgfFV8BQlp56yVWTZ2RsGfMJh0xbKqYO7FhiTebcyDDI2CHEkTCqRGEKYjRq39EVI0zjszQT0825rccf--4GMLzf52tzGFKlprqKC04rWY0uwenLSeV3ZBV4Q",
  "token_type":"Bearer",
  "expires_in":1209599
}
```
---
```shell
curl -X GET localhost:3333/v1/users/me \
--header 'Authorization: Bearer eyJraWQiOiIwZDE5NGFjOC1iMDA4LTQxYzYtOGRjNy05OTYyZTRlZWIyODQiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkcml2ZXItYXBwIiwiYXVkIjoiZHJpdmVyLWFwcCIsIm5iZiI6MTcwNTA0MDA2NSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDozMzMzIiwiZXhwIjoxNzA2MjQ5NjY1LCJpYXQiOjE3MDUwNDAwNjUsImp0aSI6ImQxMmNkN2VjLTE2M2MtNGU2Ni05NTYyLTQ4NGYyNzNhMjg2ZiJ9.ct9N9Tq80pgtthJanXVW6Ak32vcD8HTZDiV-ym6Js64-SXSGiwrc3PvO5MF7AsBW366VvYj5kMdHDK8T8rGlXH76t5i8Z9cdqIUSGBNVHnJo6YTedrJ89cc319BtB3RaoGRPgOipiTCLQtuUa05JVAJ5Y5ecbasCIE2X5JojPGQSBk7sc6GDE4gN2TBxqXgPqKEAkjzmfabm9-wzbk1i70HFrsxuSxF4X0rFEimIN8M5e-k3BeFqmYDWHNSVJpp8QL69yVRxRLRNlmUmV6nPMul4PUrrkwc105jpKSRCAnRSmigeRkY_Q5PgRV-u2QdiZF89NonJrz2WWOSjF0zm1w' -v
```
->
```shell
{"id":"Justin"}
```
